(this.webpackJsonpjs=this.webpackJsonpjs||[]).push([[0],{175:function(e,t,n){e.exports=n(345)},181:function(e,t,n){},182:function(e,t,n){},199:function(e,t,n){},345:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(2),l=n.n(i),o=(n(180),n(181),n(145)),s=n(146),c=n(173),d=n(169),u=function(e){return r.a.createElement("div",{style:{width:"1400px",margin:"0 auto",textAlign:"center"}},e.children)},m=n(347),f=n(14),h=(n(182),function(e){return r.a.createElement("div",{className:"footer"},r.a.createElement(u,null,void 0!==e.numberOfStudents?r.a.createElement(m.a,{style:{backgroundColor:"#f56a00",marginRight:"5px"},size:"large"}," ",e.numberOfStudents," "):null,r.a.createElement(f.a,{onClick:function(){return e.handleAddStudentClickEvent()},type:"primary"},"Add New Student")))}),g=(n(199),n(120)),E=function(e){if(e.ok)return e;var t=new Error(e.statusText);return t.response=e,e.json().then((function(e){t.error=e})),Promise.reject(t)},S=function(){return Object(g.a)("api/students").then(E)},p=n(352),v=n(172),y=n(167),N=n(350),b=n(353),A={marginBottom:"5px"},k=Object(v.a)({backgroundColor:"#f50",color:"white"},A),w=function(e){return r.a.createElement(y.a,{initialValues:{firstName:"",lastName:"",email:"",gender:""},validate:function(e){var t={};return e.firstName||(t.firstName="First Name Required"),e.lastName||(t.lastName="Last Name Required"),e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="Invalid Email Address"):t.email="Email Required ",e.gender?["MALE","male","FEMALE","female"].includes(e.gender)||(t.gender="Invalid Gender"):t.gender="Gender Required",t},onSubmit:function(t,n){var a=n.setSubmitting;(function(e){return Object(g.a)("api/students",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)}).then(E)})(t).then((function(){e.onSuccess()})).catch((function(t){e.onFailure(t)})).finally((function(){a(!1)}))}},(function(e){var t=e.values,n=e.errors,a=e.touched,i=e.handleChange,l=e.handleBlur,o=e.handleSubmit,s=e.isSubmitting,c=e.submitForm,d=e.isValid;return r.a.createElement("form",{onSubmit:o},r.a.createElement(N.a,{style:A,name:"firstName",onChange:i,onBlur:l,value:t.firstName,placeholder:"First Name E.g John"}),n.firstName&&a.firstName&&r.a.createElement(b.a,{style:k},n.firstName),r.a.createElement(N.a,{style:A,name:"lastName",onChange:i,onBlur:l,value:t.lastName,placeholder:"Last Name E.g Smith"}),n.lastName&&a.lastName&&r.a.createElement(b.a,{style:k},n.lastName),r.a.createElement(N.a,{style:A,name:"email",type:"email",onChange:i,onBlur:l,value:t.email,placeholder:"email: example@gmail.com"}),n.email&&a.email&&r.a.createElement(b.a,{style:k},n.email),r.a.createElement(N.a,{style:A,name:"gender",onChange:i,onBlur:l,value:t.gender,placeholder:"Gender: FEMALE or MALE?"}),n.gender&&a.gender&&r.a.createElement(b.a,{style:k},n.gender),r.a.createElement(f.a,{onClick:function(){return c()},type:"submit",disabled:s|(a&&!d)},"Submit"))}))},M=n(351),C=function(e,t,n){M.a[e]({message:t,description:n})},F=function(e,t){return C("error",e,t)},O=n(349),j=n(152),x=n(348),I=n(60),B=function(e){Object(c.a)(n,e);var t=Object(d.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={students:[],isFetching:!1,isAddStudentModalVisable:!1},e.openAddStudentModal=function(){return e.setState({isAddStudentModalVisable:!0})},e.closeAddStudentModal=function(){return e.setState({isAddStudentModalVisable:!1})},e.fetchStudents=function(){e.setState({isFetching:!0}),S().then((function(t){return t.json().then((function(t){console.log(t),e.setState({students:t,isFetching:!1})}))})).catch((function(t){console.log(t.error);var n=t.error.httpStatus,a=t.error.message;F(a,n),e.setState({isFetching:!1})}))},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.fetchStudents()}},{key:"render",value:function(){var e=this,t=this.state,n=t.students,a=t.isFetching,i=t.isAddStudentModalVisable,l=function(){return r.a.createElement("div",null,r.a.createElement(O.a,{title:"Add new student",visible:i,onOk:e.closeAddStudentModal,onCancel:e.closeAddStudentModal,width:1e3},r.a.createElement(w,{onSuccess:function(){e.closeAddStudentModal(),e.fetchStudents()},onFailure:function(e){var t=e.error.httpStatus,n=e.error.message;console.log(JSON.stringify(e)),F(n,t)}})),r.a.createElement(h,{numberOfStudents:n.length,handleAddStudentClickEvent:e.openAddStudentModal}))};if(a)return r.a.createElement(u,null,r.a.createElement(j.a,{indicator:r.a.createElement(p.a,{style:{fontSize:24},spin:!0})}));if(n&&n.length){var o=[{title:"",key:"avatar",render:function(e,t){return r.a.createElement(m.a,{size:"large"},"".concat(t.firstName.charAt(0)).concat(t.lastName.charAt(0)))}},{title:"Student Id",dataIndex:"studentId",key:"studentId"},{title:"First Name",dataIndex:"firstName",key:"firstName"},{title:"Last Name",dataIndex:"lastName",key:"lastName"},{title:"Email",dataIndex:"email",key:"email"},{title:"Gender",dataIndex:"gender",key:"gender"}];return r.a.createElement(u,null,r.a.createElement(x.a,{style:{marginBottom:"70px"},dataSource:n,columns:o,pagination:!1,rowKey:"studentId"}),l())}return r.a.createElement(u,null,r.a.createElement(I.a,{description:r.a.createElement("h1",null,"No Students Found")}),l())}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.4ab302b3.chunk.js.map